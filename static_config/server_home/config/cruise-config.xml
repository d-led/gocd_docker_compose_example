<?xml version="1.0" encoding="utf-8"?>
<cruise xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="cruise-config.xsd" schemaVersion="90">
  <server artifactsdir="artifacts" agentAutoRegisterKey="123456789abcdef" commandRepositoryLocation="default" serverId="9d990e3b-44a6-4775-9948-c3d912d3b078" />
   <scms>
    <scm id="1e0dcf71-9935-418a-b5b4-fa850154978c" name="Tdawg-scm-github-test">
      <pluginConfiguration id="github.pr" version="1.3.2" />
      <configuration>
        <property>
          <key>url</key>
          <value>https://github.com/kevinKalmbach/sovrnTest.git</value>
        </property>
        <property>
          <key>defaultBranch</key>
          <value>master</value>
        </property>
      </configuration>
    </scm>
   </scms>
  <config-repos>
    <config-repo plugin="yaml.config.plugin">
      <git url="https://github.com/downtrev/tdawg-yaml-config.git" />
    </config-repo>
  </config-repos>
  <pipelines group="Tdawgs">
    <pipeline name="Tdawg" isLocked="false">
      <params>
        <param name="BRANCH">master</param>
      </params>
      <materials>
        <scm ref="1e0dcf71-9935-418a-b5b4-fa850154978c" />
      </materials>
      <stage name="Tdawg.Build">
        <jobs>
          <job name="build">
            <tasks>
              <task>
                <pluginConfiguration id="script-executor" version="1" />
                <configuration>
                  <property>
                    <key>script</key>
                    <value>mvn clean install</value>
                  </property>
                  <property>
                    <key>shtype</key>
                    <value>bash</value>
                  </property>
                </configuration>
                <runif status="passed" />
              </task>
            </tasks>
            <resources>
              <resource>nimbus2000</resource>
            </resources>
            <artifacts>
              <artifact src="**/target/*" dest="build" />
            </artifacts>
          </job>
        </jobs>
      </stage>
      <stage name="Tdawg.Install">
        <jobs>
          <job name="install">
            <tasks>
              <fetchartifact pipeline="Tdawg" stage="Tdawg.Build" job="build" srcdir="build/target">
                <runif status="passed" />
              </fetchartifact>
            </tasks>
            <resources>
              <resource>nimbus2000</resource>
            </resources>
          </job>
        </jobs>
      </stage>
    </pipeline>
  </pipelines>
  <environments>
    <environment name="example" />
    <environment name="testing">
      <agents>
        <physical uuid="ed8a5b29-43a5-4c68-9f14-d95ace25f24b" />
      </agents>
      <pipelines>
        <pipeline name="Tdawg" />
      </pipelines>
    </environment>
    <environment name="Tdawgs" />
  </environments>
</cruise>
